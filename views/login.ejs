<%- include("./shared/header.ejs")%>
<div class="container text-center my-5">
   <div class="user my-3">
      <i class="fas fa-user-secret user-icon"></i>
      <h4 class="login">Login</h4>
   </div>
   <div class="card p-5 w-50 m-auto">

      <% if (loginError) { %>
         <div class="alert alert-danger"><%=loginError%></div>
      <% } %>


      <form method="POST" action="/handleLogin">
            <input class="form-control" placeholder="Enter your email" type="text" name="email">
               <!-- Show Error Name-->
               <% for( let i = 0; i < error.length; i++ ) { %>
                  <% if (error[i].path[0] == "email") { %>
                     <div class="alert alert-danger my-3 mx-auto rounded"><%=error[i].message.replaceAll('"' , "")%></div>
                  <% } %>
               <% } %>

            <input class="form-control my-4 " placeholder="Enter your Password" type="password" name="password">
               <!-- Show Error Name-->
               <% for( let i = 0; i < error.length; i++ ) { %>
                  <% if (error[i].path[0] == "password") { %>
                     <!-- <div class="alert alert-danger my-3 mx-auto rounded"><%=error[i].message.replaceAll('"' , "")%></div> -->
                  <% } %>
               <% } %>

               <!-- Other Solution Show Error -->
               <% if (error.find((item)=>item.path[0] == "password")?.message) { %>
                  <div class="alert alert-danger my-3 mx-auto rounded">
                     <%=error.find((item)=>item.path[0] == "password")?.message %>
                  </div>
               <% } %>
               
            <button class="btn btn-default-outline my-4 w-100 rounded">Login</button>
            <p><a class="text-muted forgot btn" href="#">I Forgot My Password</a></p>
            <a class="btn btn-default-outline" href="/register">Register</a>
      </form>
   </div>
</div>
<%- include("./shared/footer.ejs")%>